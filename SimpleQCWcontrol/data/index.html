<script type="text/javascript" src="./libraries/Tone.js"></script>
<script type="text/javascript" src="./libraries/tonejs-ui.js"></script>
<script type="text/javascript" src="./libraries/midi"></script>
<script type="text/javascript" src="./libraries/dat.gui.min.js"></script>
<script type="text/javascript" src="./SimpleQCW.js"></script>
<link rel="stylesheet" type="text/css" href="./main.css">

<meta name="viewport" content="width=device-width, initial-scale=1.0">

<tone-content>
	<div id="fileDrop">
		<label for="file-upload" class="custom-file-upload">
		    <i class="fa fa-cloud-upload"></i>Choose MIDI
		</label>
		<input id="file-upload" type="file" accept="audio/midi"/>
	</div>

	<div id="Results">
		<textarea id="resultsText" placeholder="json output..."></textarea>
	</div>
	
	<tone-play-toggle disabled=""></tone-play-toggle>
	<div id="myGuiContainer"></div>
</tone-content>

<script type="text/javascript">
	var connection = null
	try{
  		connection = new WebSocket('ws://'+location.hostname+':81/',['arduino'])
	}catch(error){console.error(error)}

	const simpleQCWmidi = new SimpleQCWmidi("#fileDrop", "#resultsText",
		connection)
	const simpleQCWgui = new SimpleQCWgui("#myGuiContainer",
		connection)

</script>